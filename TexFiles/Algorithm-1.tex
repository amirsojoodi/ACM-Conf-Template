% https://tug.ctan.org/macros/latex/contrib/algorithm2e/doc/algorithm2e.pdf
% https://tex.stackexchange.com/questions/18949/algorithm2e-split-over-several-pages

\SetInd{0.2em}{0.8em}
\begin{algorithm*}
  \begin{multicols}{2}
    \SetAlgoShortEnd
    \small
    \DontPrintSemicolon

    \SetKwProg{Loop}{while}{}{}
    \SetKwProg{Fn}{Function}{:}{}
    \KwIn{$input\_graph$}
    \KwOut{$output\_graph$}
    \Fn{$random\_function$}{
      $counter \leftarrow 0$ \tcp{inline comment}
      $edges$ \tcp{another comment}

      $assign random \leftarrow 0$ \;

      \For{$i \leftarrow 0$ \KwTo sizeof($edges$)}{
        \uIf{$edges[i] \in new\_edges$ \textbf{and} $check(new\_edges, edges[i], random) > 0$}{
          $vertex[i] \leftarrow$ Enable \;
        }\Else{
          $vertex[i] \leftarrow$ Disable \;
        }

        \uIf{$edges[i] \in new\_edges$ \textbf{and} $check(old\_edges, edges[i], random) > 0$}{
          $vertex[i] \leftarrow$ Enable \;
        }\Else{
          $vertex[i] \leftarrow$ Disable \;
        }
      }

      $edges \leftarrow $ \# Enable edges $+$ \# Enable vertices \;

      \Loop {$edges\_size < edges$ \textbf{or} $counter < edges$}{
        \For{$i \leftarrow 0$ \KwTo sizeof($edges$)}{
          \uIf{$edges[i] \in new\_edges$ \textbf{and} $check(new\_edges, edges[i], random) > 0$}{
            $vertex[i] \leftarrow$ Enable \;
          }\Else{
            $vertex[i] \leftarrow$ Disable \;
          }

          \If{$edges[i] \in new\_edges$}{
            $vertex[i] \leftarrow$ Enable \;
          }
        }
      } % Here is where we end the while loop intentionally to enable split of the algorithm
    } % Here is where we end the function intentionally to enable split of the algorithm

    \SetKwBlock{Begin}{}{return}
    \tcp*[h]{Rest of the function body}
    \Begin{
      \SetKwBlock{Begin}{}{end\ while}
      \tcp*[h]{Rest of the while body}
      \Begin   {

        \uIf{$check(new\_edges, edges[i], random) > 0$}{
          $vertex[i] \leftarrow$ Enable \;
        }
        \uElseIf{$check(old\_edges, edges[i], random) > 0$}{
          $vertex[i] \leftarrow$ Disable \;
        }
        \uElseIf{$check(old\_edges, edges[i], random) == 0$}{
          $vertex[i] \leftarrow$ Disable \;
        }
        \Else{
          $vertex[i] \leftarrow$ Disable \;
        }

        \For{$i \leftarrow 0$ \KwTo sizeof($edges$)}{
          \uIf{$edges[i] \in new\_edges$ \textbf{and} $check(new\_edges, edges[i], random) > 0$}{
            $vertex[i] \leftarrow$ Enable \;
          }\Else{
            $vertex[i] \leftarrow$ Disable \;
          }

          \If{$edges[i] \in new\_edges$}{
            $vertex[i] \leftarrow$ Enable \;
          }
        }

        \uIf{$check(new\_edges, edges[i], random) > 0$}{
          $vertex[i] \leftarrow$ Enable \;
        }
        \uElseIf{$check(old\_edges, edges[i], random) > 0$}{
          $vertex[i] \leftarrow$ Disable \;
        }
        \uElseIf{$check(old\_edges, edges[i], random) == 0$}{
          $vertex[i] \leftarrow$ Disable \;
        }
        \Else{
          $vertex[i] \leftarrow$ Disable \;
        }
      }  % End of while
    } % End of find_agent

    \caption{Random\ algorithm}
    \label{Random Algorithm}
  \end{multicols}
\end{algorithm*}